/**
 * registry.ts
 *
 * Agent Identity Registry reader.
 * Provides functions to read agent profiles and reputation from on-chain registries.
 *
 * Dependencies:
 *   npm install viem
 */
import { type PublicClient, type Address, type Hex } from 'viem';
import type { TransactionSigner } from './signer/index.js';
/** Service endpoint types defined in ERC-8004 */
export type ServiceType = 'web' | 'A2A' | 'MCP' | 'OASF' | 'ENS' | 'DID' | 'email';
/** Trust models defined in ERC-8004 */
export type TrustModel = 'reputation' | 'crypto-economic' | 'tee-attestation';
/** Predefined reputation feedback tags defined in ERC-8004 */
export type ReputationTag = 'starred' | 'reachable' | 'ownerVerified' | 'uptime' | 'successRate' | 'responseTime' | 'blocktimeFreshness' | 'revenues' | 'tradingYield';
export interface AgentService {
    name: ServiceType | (string & {});
    endpoint: string;
    version?: string;
}
export interface AgentRegistration {
    agentId: number;
    agentRegistry: string;
}
export interface AgentMetadata {
    name: string;
    description: string;
    image: string;
    services: AgentService[];
    active: boolean;
    x402Support?: boolean;
    supportedTrust?: (TrustModel | (string & {}))[];
    registrations?: AgentRegistration[];
}
export interface AgentProfile {
    agentId: number;
    owner: string;
    uri: string;
    agentWallet: string | null;
    metadata: AgentMetadata | null;
}
export interface GetAgentOptions {
    registryAddress: string;
    client: PublicClient;
    fetchMetadata?: boolean;
}
export interface ReputationSummary {
    count: number;
    score: number;
    rawValue: bigint;
    decimals: number;
}
export interface GetReputationOptions {
    reputationRegistryAddress: string;
    client: PublicClient;
    clients?: string[];
    tag1?: ReputationTag | (string & {});
    tag2?: string;
}
/**
 * Read an agent from the Identity Registry and parse its profile.
 *
 * @param agentId  The on-chain agent token ID
 * @param options  Registry address, client, and optional fetchMetadata flag
 */
export declare function getAgent(agentId: number, options: GetAgentOptions): Promise<AgentProfile>;
/**
 * Read an agent's reputation summary from the Reputation Registry.
 *
 * @param agentId  The on-chain agent token ID
 * @param options  Reputation registry address, client, and optional filters
 */
export declare function getReputation(agentId: number, options: GetReputationOptions): Promise<ReputationSummary>;
export interface EncodeRegisterAgentOptions {
    /** The agent metadata URI (IPFS, HTTP, or data URL) */
    agentURI: string;
    /** The chain ID to register on */
    chainId: number;
}
export interface EncodeRegisterAgentResult {
    /** The registry contract address */
    to: Address;
    /** The ABI-encoded calldata for `register(agentURI)` */
    data: Hex;
}
/**
 * Encode the calldata for an ERC-8004 agent registration without sending it.
 *
 * Use this when your wallet provider handles transaction submission separately
 * (e.g. Bankr's `/agent/submit`, or any ERC-4337 bundler).
 *
 * @example
 * ```typescript
 * import { encodeRegisterAgent } from '@buildersgarden/siwa/registry';
 *
 * const { to, data } = encodeRegisterAgent({
 *   agentURI: 'data:application/json;base64,...',
 *   chainId: 84532,
 * });
 *
 * // Submit via your provider (e.g. Bankr)
 * await fetch('https://api.bankr.bot/agent/submit', {
 *   method: 'POST',
 *   headers: { 'Content-Type': 'application/json', 'X-API-Key': apiKey },
 *   body: JSON.stringify({
 *     transaction: { to, data, value: '0', chainId: 84532 },
 *     waitForConfirmation: true,
 *   }),
 * });
 * ```
 */
export declare function encodeRegisterAgent(options: EncodeRegisterAgentOptions): EncodeRegisterAgentResult;
export interface RegisterAgentOptions {
    /** The agent metadata URI (IPFS, HTTP, or data URL) */
    agentURI: string;
    /** The chain ID to register on */
    chainId: number;
    /** Optional RPC URL (defaults to chain's default endpoint) */
    rpcUrl?: string;
    /** A TransactionSigner for signing the registration transaction */
    signer: TransactionSigner;
}
export interface RegisterAgentResult {
    agentId: string;
    txHash: string;
    registryAddress: string;
    agentRegistry: string;
}
/**
 * Register an agent on the ERC-8004 Identity Registry in a single call.
 *
 * Builds, signs (via the provided signer), and broadcasts the `register(agentURI)`
 * transaction, then waits for confirmation and parses the `Registered` event.
 *
 * @example
 * ```typescript
 * import { registerAgent, createLocalAccountSigner } from '@buildersgarden/siwa';
 * import { privateKeyToAccount } from 'viem/accounts';
 *
 * const account = privateKeyToAccount('0x...');
 * const signer = createLocalAccountSigner(account);
 *
 * const result = await registerAgent({
 *   agentURI: 'ipfs://...',
 *   chainId: 84532,
 *   signer,
 * });
 * ```
 */
export declare function registerAgent(options: RegisterAgentOptions): Promise<RegisterAgentResult>;
