/**
 * client-resolver.ts
 *
 * Dynamic PublicClient resolution for multi-chain SIWA servers.
 * Lazily creates and caches viem PublicClient instances per chain ID.
 */
import { type PublicClient } from 'viem';
export interface ClientResolverOptions {
    /** Explicit RPC URL overrides per chain ID. */
    rpcOverrides?: Record<number, string>;
    /** Restrict which chain IDs are accepted. When set, only these chains can be resolved. */
    allowedChainIds?: number[];
}
export interface ClientResolver {
    /** Get (or lazily create) a PublicClient for the given chain ID. Throws if unsupported. */
    getClient(chainId: number): PublicClient;
    /** Check whether a chain ID can be resolved. */
    isSupported(chainId: number): boolean;
    /** List all chain IDs that can be resolved. */
    supportedChainIds(): number[];
}
/**
 * Extract the chain ID from an `eip155:{chainId}:{address}` agent registry string.
 * Returns `null` if the format is invalid.
 */
export declare function parseChainId(agentRegistry: string): number | null;
/**
 * Create a ClientResolver that lazily creates and caches PublicClient instances.
 *
 * RPC resolution order:
 * 1. Explicit `rpcOverrides` map
 * 2. Environment variable `RPC_URL_{chainId}` (e.g. `RPC_URL_42161`)
 * 3. Built-in `RPC_ENDPOINTS` from addresses.ts
 * 4. Throw with a helpful error listing supported chains
 */
export declare function createClientResolver(options?: ClientResolverOptions): ClientResolver;
